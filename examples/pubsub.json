{
    "name": "Let's do producers and consumers with mqtt",
    "scenarios": [ "producer", "producer", "producer", "consumer", "consumer" ],
    "sequencing": "Parallel",
    "producer": {
        "name": "Spewing out MQTT",
        "steps": [
            ["sleep", 3000],
            ["setUser", "foo@bar.com"],
            ["print", "producer initialized"],
            ["repeat", 500000, 
                [
                    ["publish", "/clearblade/test/spewer", "This is the spew", 0]
                ]
            ]
        ]
    },
    "consumer": {
        "name": "Cleaning up the spew",
        "steps": [
            ["setUser", "bar@bar.com"],
            ["print", "consumer initialized"],
            ["subscribe", "/clearblade/test/spewer", 0],
            ["repeat", 1500000, 
                [
                    ["waitMessage", "/clearblade/test/spewer", 300]
                ]
            ]
        ]
    }
}
